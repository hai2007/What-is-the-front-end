window.__nefbl_pack__bundleSrc__[22]=function(){var t,e,r={};function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=(t=window.__nefbl_pack__getBundle("1")).Component,o=t.ref,a=((t=window.__nefbl_pack__getBundle("37")).default,(t=window.__nefbl_pack__getBundle("39")).default),u=i({selector:"page-index1",template:(t=window.__nefbl_pack__getBundle("40")).default,styles:[a]})(e=function(){function t(){var e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=void 0,(r="rate")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}var e,r,i;return e=t,(r=[{key:"$setup",value:function(){return{rate:o(.75)}}},{key:"$mounted",value:function(){var t=this;window.__flag__="page1";var e=$$("#palette").painter().config("fillStyle","#fff7e9").bind("<circle>").appendTo().fillCircle(250,250,250).config("fillStyle","#ffe1b1").bind("<circle>").appendTo().fillCircle(250,250,220).config("fillStyle","#ffffff").bind("<circle>").appendTo().fillCircle(250,250,180),r=$$("<path>").appendTo("#palette"),n=$$("<path>").appendTo("#palette"),i=$$("<path>").appendTo("#palette");e.config({"font-size":40,fillStyle:"#272727",textAlign:"center"}).bind("<text>").appendTo().fillText("Ôø•"+(15e4*this.rate).toFixed(0),250,210).config({"font-size":30,fillStyle:"#595757"}).bind("<text>").appendTo().fillText("ÂèØÂÄü",250,160).config({"font-size":24,fillStyle:"#a4a1a1"}).bind("<text>").appendTo().fillText("ÊÄªÈ¢ùÂ∫¶150000",250,260).config({"arc-start-cap":"round","arc-end-cap":"round"}),$$.animation((function(o){e.bind(i).config("fillStyle","#ff7f08").fillArc(250,250,180,200,-Math.PI/2,2*-Math.PI*t.rate*o),t.fullWave(e,t.rate*o,o,r,n)}),2e3,(function(){t.renderWave(e,r,n)}))}},{key:"renderWave",value:function(t,e,r){var n=this;"page1"==window.__flag__&&$$.animation((function(i){n.fullWave(t,n.rate,i,e,r)}),2e3,(function(){n.renderWave(t,e,r)}))}},{key:"fullWave",value:function(t,e,r,n,i){var o=1;r>.5&&(r-=.5,o=-1),r*=2,this.drawerWave(t.bind(n).config("fillStyle","#ff7f08"),e,r,o),this.drawerWave(t.bind(i).config("fillStyle","#fead2e"),e,r,-o)}},{key:"drawerWave",value:function(t,e,r,n){var i=$$.rotate(250,250,(.5-e)*Math.PI,410,250),o=$$.rotate(250,250,(1.5-e)*Math.PI,410,250);t.beginPath().moveTo(i[0],i[1]).arc(250,250,160,(.5-e)*Math.PI,2*e*Math.PI).bezierCurveTo(o[0]+.5*(i[0]-o[0])*r,i[1]+200*r*n*(e>.5?1-e:e),o[0]+.5*(i[0]-o[0])*(1+r),i[1]-200*(1-r)*n*(e>.5?1-e:e),i[0],i[1]).fill()}}])&&n(e.prototype,r),i&&n(e,i),t}())||e;return r.default=u,r},window.__nefbl_pack__bundleSrc__[37]=function(){var t={};return window.__nefbl_pack__getBundle("38"),t.default=image2D,t},window.__nefbl_pack__bundleSrc__[38]=function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!

    ÊàëËøòÊÉäËÆ∂Âú∞ÊÑèËØÜÂà∞Ôºå Âú®ÊàëÁîüÂëΩ‰∏≠ÊúâÂæàÂ§öÊó∂ÂàªÔºå ÊØèÂΩìÊàëÈÅáÂà∞‰∏Ä‰∏™ÈÅ•‰∏çÂèØÂèä„ÄÅ‰ª§‰∫∫ÂÆ≥ÊÄïÁöÑÊÉÖÂ¢ÉÔºå
    Âπ∂ÊÑüÂà∞ÊÉäÊÖåÂ§±Êé™Êó∂Ôºå ÊàëÈÉΩËÉΩÂ§üÂ∫î‰ªò‚Äî‚ÄîÂõ†‰∏∫ÊàëÂõûÊÉ≥Ëµ∑‰∫ÜÂæà‰πÖ‰ª•ÂâçËá™Â∑±‰∏äËøáÁöÑÈÇ£‰∏ÄËØæ„ÄÇ
    ÊàëÊèêÈÜíËá™Â∑±‰∏çË¶ÅÁúã‰∏ãÈù¢ÈÅ•ËøúÁöÑÂ≤©Áü≥Ôºå ËÄåÊòØÊ≥®ÊÑèÁõ∏ÂØπËΩªÊùæ„ÄÅÂÆπÊòìÁöÑÁ¨¨‰∏ÄÂ∞èÊ≠•Ôºå ËøàÂá∫‰∏ÄÂ∞èÊ≠•„ÄÅÂÜç‰∏ÄÂ∞èÊ≠•Ôºå
    Â∞±ËøôÊ†∑‰Ωì‰ºöÊØè‰∏ÄÊ≠•Â∏¶Êù•ÁöÑÊàêÂ∞±ÊÑüÔºå Áõ¥Âà∞ÂÆåÊàê‰∫ÜËá™Â∑±ÊÉ≥Ë¶ÅÂÆåÊàêÁöÑÔºå ËææÂà∞‰∫ÜËá™Â∑±ÁöÑÁõÆÊ†áÔºå
    ÁÑ∂ÂêéÂÜçÂõûÂ§¥ÁúãÊó∂Ôºå ‰∏çÁ¶ÅÂØπËá™Â∑±Ëµ∞ËøáÁöÑËøôÊÆµÊº´Êº´ÈïøË∑ØÊÑüÂà∞ÊÉäËÆ∂ÂíåËá™Ë±™„ÄÇ

                                            ‚Äî‚Äî‚Äî‚Äî ÊëòËá™ Ëé´È°ø¬∑‰∫®Áâπ„ÄäËµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„Äã

*/
return function(){"use strict";var e=function(t,e){for(var r in e)try{t[r]=e[r]}catch(t){throw new Error("Illegal property valueÔºÅ")}return t},r="http://www.w3.org/2000/svg",n="http://www.w3.org/1999/xlink",i="[\\x20\\t\\r\\n\\f]",o="[\\n\\f\\r]",a="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",u=["href","title","show","type","role","actuate"];function l(e){var r=void 0===e?"undefined":t(e);return null!=e&&("object"===r||"function"===r)}var f=Object.prototype.toString;function c(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f.call(t)}var d=function(e,r){return null!==r&&"object"===(void 0===r?"undefined":t(r))&&e.indexOf(r.nodeType)>-1&&!function(e){if(null===e||"object"!==(void 0===e?"undefined":t(e))||"[object Object]"!=c(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}(r)},s=l,h=function(e){return"number"==typeof e||null!==e&&"object"===(void 0===e?"undefined":t(e))&&"[object Number]"===c(e)},p=function(e){var r=void 0===e?"undefined":t(e);return"string"===r||"object"===r&&null!=e&&!Array.isArray(e)&&"[object String]"===c(e)},g=function(t){if(!l(t))return!1;var e=c(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e},v=function(t){return d([1,9,11],t)},w=function(t,e){if("innerHTML"in SVGElement.prototype==!1||"innerHTML"in SVGSVGElement.prototype==!1){var i=document.createElement("div");i.innerHTML=e;var o=function(t){for(var e=document.createElementNS(r,t.tagName.toLowerCase()),i=t.attributes,o=0;i&&o<i.length;o++)u.indexOf(i[o].nodeName)>=0?e.setAttributeNS(n,"xlink:"+i[o].nodeName,t.getAttribute(i[o].nodeName)):e.setAttribute(i[o].nodeName,t.getAttribute(i[o].nodeName));return e},a=o(i.firstChild);!function t(e,r){var n=e.firstChild;if(d([3],n))r.textContent=e.innerText;else for(;n;){var i=o(n);r.appendChild(i),n.firstChild&&t(n,i),n=n.nextSibling}}(i.firstChild,a),t.appendChild(a)}else t.innerHTML=e};
/*!
     * üí° - ÂÄºÁ±ªÂûãÂà§Êñ≠ÊñπÊ≥ï
     * https://github.com/hai2007/tool.js/blob/master/type.js
     *
     * author hai2007 < https://hai2007.gitee.io/sweethome >
     *
     * Copyright (c) 2020-present hai2007 Ëµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„ÄÇ
     * Released under the MIT license
     */function y(t,e){new RegExp("^"+a+"$").test(t)&&(t="<"+t+"></"+t+">");var n=/^<([^(>| )]+)/.exec(t)[1];return"canvas"===n.toLowerCase()&&(e="HTML"),!p(e)&&["div","span","p","em","i","table","ul","ol","dl","dt","li","dd","form","input","button","textarea","header","footer","article","section","h1","h2","h3","h4","h5","h6","image","video","iframe","object","style","script","link","tr","td","th","tbody","thead"].indexOf(n.toLowerCase())>=0&&(e="HTML"),function(t,e){var n,i=void 0,o="div";if("html"===e||"HTML"===e){if(/^<tr[> ]/.test(t)?o="tbody":/^<th[> ]/.test(t)||/^<td[> ]/.test(t)?o="tr":(/^<thead[> ]/.test(t)||/^<tbody[> ]/.test(t))&&(o="table"),(i=document.createElement(o)).innerHTML=t,!/</.test(i.innerHTML))throw new Error("This template cannot be generated using div as a container:"+t+"\nPlease contact us: https://github.com/hai2007/image2D/issues")}else i=document.createElementNS(r,"svg"),w(i,t);n=i.childNodes;for(var a=0;a<n.length;a++)if(v(n[a]))return n[a]}(t,e)}function m(t,e){if(p(e)||p(t)){if(t=t.trim().replace(new RegExp(o,"g"),""),"string"==typeof e||/^</.test(t)){var r=y(t,e);return v(r)?[r]:[]}if("*"===t)return e.getElementsByTagName("*");var n=t.match(new RegExp("#"+a,"g"));if(n){var i=document.getElementById(n[0].replace("#",""));return v(i)?[i]:[]}var u=t.match(new RegExp("\\."+a,"g")),l=t.match(new RegExp("^"+a));if(l||u){for(var f=e.getElementsByTagName(l?l[0]:"*"),c=[],d=0;d<f.length;d++){for(var s=" "+f[d].getAttribute("class")+" ",h=!0,w=0;u&&w<u.length;w++)if(!s.match(" "+u[w].replace(".","")+" ")){h=!1;break}h&&c.push(f[d])}return c}throw new Error("Unsupported selector:"+t)}if(v(t))return[t];if(!t||t.constructor!==Array&&t.constructor!==HTMLCollection&&t.constructor!==NodeList){if(t&&t.constructor===b)return t;if(g(t)){for(var m=e.getElementsByTagName("*"),_=[],x=0;x<m.length;x++)t(m[x])&&_.push(m[x]);return _}throw new Error("Unknown selector:"+t)}for(var T=[],k=0;k<t.length;k++)if(v(t[k]))T.push(t[k]);else if(t[k]&&t[k].constructor===b)for(var M=0;M<t[k].length;M++)T.push(t[k][M]);return T}var b=function t(e,r){return new t.prototype.init(e,r)};
/*!
     * üî™ - Âü∫Êú¨ÁöÑÊ†ëÁªìÊûÑ‰ΩçÁΩÆÁîüÊàêÁÆóÊ≥ï
     * https://github.com/hai2007/algorithm.js/blob/master/tree.js
     *
     * author hai2007 < https://hai2007.gitee.io/sweethome >
     *
     * Copyright (c) 2020-present hai2007 Ëµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„ÄÇ
     * Released under the MIT license
     */
function _(t){var e,r,n=t||{},i=function(t){var i=function(t){var e,r,i={},o=n.root(t);e=r=n.id(o),i[e]={data:o,pid:null,id:e,children:[]};var a=1;return function r(o,u){var l,f=n.child(o,t);for(a+=f?f.length:0,l=0;f&&l<f.length;l++)e=n.id(f[l]),i[u].children.push(e),i[e]={data:f[l],pid:u,id:e,children:[]},r(f[l],e)}(o,e),{value:[r,i],num:a}}(t);return e=i.value[1],r=i.value[0],1==i.num?(e[r].left=.5,e[r].top=.5,{deep:1,node:e,root:r,size:1}):function(){var t=[],n=0,i=0;return function r(o,a){var u;for(a>i&&(i=a),u=0;u<o.children.length;u++)r(e[o.children[u]],a+1);if(e[o.id].left=a+.5,0==u?(null==t[a]&&(t[a]=-.5),null==t[a-1]&&(t[a-1]=-.5),e[o.id].top=t[a]+1,t[a]+1+.5*(e[o.pid].children.length-1)-1<t[a-1]&&(e[o.id].top=t[a-1]+1-.5*(e[o.pid].children.length-1))):e[o.id].top=.5*(e[o.children[0]].top+e[o.children[u-1]].top),e[o.id].top<=t[a]){var l=t[a]+1-e[o.id].top;!function r(n,i){var o;for(e[n].top+=l,t[i]<e[n].top&&(t[i]=e[n].top),o=0;o<e[n].children.length;o++)r(e[n].children[o],i+1)}(o.id,a)}t[a]=e[o.id].top,e[o.id].top+.5>n&&(n=e[o.id].top+.5)}(e[r],0),{node:e,root:r,size:n,deep:i+1}}()};return i.root=function(t){return n.root=t,i},i.child=function(t){return n.child=t,i},i.id=function(t){return n.id=t,i},i}b.prototype.init=function(t,e){this.context=e=e||document;var r=m(t,e),n=void 0;for(n=0;n<r.length;n++)this[n]=r[n];return this.length=r.length,this},b.prototype.extend=b.extend=function(){var t=arguments[0]||{},e=arguments[1]||{},r=arguments.length;for(var n in 1===r&&(e=t,t=this),s(t)||(t={}),e)try{t[n]=e[n]}catch(t){throw new Error("Illegal property keyÔºö"+n+"ÔºÅ")}return t},b.prototype.init.prototype=b.prototype;var x=function(t,e,r,n,i){var o=Math.cos(r),a=Math.sin(r);return[+((n-t)*o-(i-e)*a+t).toFixed(7),+((n-t)*a+(i-e)*o+e).toFixed(7)]},T=function(t,e,r,n,i){var o=Math.sqrt(t*t+e*e);return[+(t*r/o+n).toFixed(7),+(e*r/o+i).toFixed(7)]},k=function(t,e,r,n,i){return[+(r*(n-t)+t).toFixed(7),+(r*(i-e)+e).toFixed(7)]};var M=function(t,e){for(var r=[],n=0;n<4;n++)for(var i=0;i<e.length/4;i++)r[4*i+n]=t[n]*e[4*i]+t[n+4]*e[4*i+1]+t[n+8]*e[4*i+2]+t[n+12]*e[4*i+3];return r};
/*!
     * üí° - Âàó‰∏ªÂ∫èÂ≠òÂÇ®ÁöÑ4x4Áü©Èòµ
     * https://github.com/hai2007/tool.js/blob/master/Matrix4.js
     *
     * author hai2007 < https://hai2007.gitee.io/sweethome >
     *
     * Copyright (c) 2020-present hai2007 Ëµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„ÄÇ
     * Released under the MIT license
     */var E=[],C=null;
/*!
     * üí° - Hermite‰∏âÊ¨°ÊèíÂÄº
     * https://github.com/hai2007/tool.js/blob/master/Hermite.js
     *
     * author hai2007 < https://hai2007.gitee.io/sweethome >
     *
     * Copyright (c) 2020-present hai2007 Ëµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„ÄÇ
     * Released under the MIT license
     */
function P(t){var e,r,n;t=function(t,e){for(var r in e)try{t[r]=e[r]}catch(t){throw new Error("Illegal property valueÔºÅ")}return t}({u:.5},t);var i=function(t){if(e){var i=(t-r)/(n-r),o=i*i;return(i*o*e[0]+o*e[1]+i*e[2]+e[3])*(n-r)}throw new Error("You shoud first set the position!")};return i.setP=function(o,a,u,l,f,c){if(!(o<u))throw new Error("The point x-position should be increamented!");r=o,n=u;var d=t.u*f,s=t.u*c;return e=[2*(a/=u-o)-2*(l/=u-o)+d+s,3*l-3*a-2*d-s,d,a],i},i}function S(t,e){var r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle;return p(e)?r.getPropertyValue(e):r}var A=function(t,e,r,n){var i=Math.cos(t),o=Math.sin(t);return[e*i-r*o,e*o+r*i,n]},I=[];function L(t,e,r){var n,i,o,a,u,l;return n=(360-r)/180*Math.PI,i=100*t.scale,o=0,a=0,u=Math.cos(n),l=Math.sin(n),I=[a*l+i*u,o,a*u-i*l],I=A(e/180*Math.PI,I[0],I[1],I[2]),I=A((90-t.center[0])/180*Math.PI,I[0],I[1],I[2]),I=function(t,e,r,n){var i=Math.cos(t),o=Math.sin(t);return[e,r*i-n*o,r*o+n*i]}((90-t.center[1])/180*Math.PI,I[0],I[1],I[2]),[-I[0],I[1],I[2]]}
/*!
     * üí° - ÂàªÂ∫¶Â∞∫ÂàªÂ∫¶Ê±ÇËß£
     * https://github.com/hai2007/tool.js/blob/master/ruler.js
     *
     * author hai2007 < https://hai2007.gitee.io/sweethome >
     *
     * Copyright (c) 2021-present hai2007 Ëµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„ÄÇ
     * Released under the MIT license
     */
function N(t,e,r){if(t<e){var n=e;e=t,t=n}else if(t==e)return[t];var i=(t+".").split(".")[1].length,o=(e+".").split(".")[1].length,a=i>o?i:o,u=function(t){for(var e=t<100&&t>-100?10:.1,r=1,n=t;10==e?n>=-100&&n<=100:n<=-100||n>=100;)r*=e,n*=e;return r}(t-e),l=+(Math.ceil((t-e)*u/r)/u).toFixed(a);if(l<=0)return[e,t];var f,c=Math.floor(e/l)*l,d=[];for(d.push(c),f=1;d[d.length-1]<t;f++)d.push(+(c+l*f).toFixed(a));d[0]=+c.toFixed(a);for(var s=[d[0]],h=1;h<d.length;h++)s[s.length-1]!=d[h]&&s.push(d[h]);return s}var j=function(t,e,r){/[a-z]/.test(t.tagName)&&u.indexOf(e)>=0?t.setAttributeNS(n,"xlink:"+e,r):t.setAttribute(e,r)};function D(t,e,r,n,i,o,a){e<0&&(t+=e,e*=-1);var u=[],l=void 0;l=x(0,0,t,i,0),u[0]=l[0],u[1]=l[1],l=x(0,0,e,l[0],l[1]),u[2]=l[0],u[3]=l[1],l=x(0,0,t,o,0),u[4]=l[0],u[5]=l[1],l=x(0,0,e,l[0],l[1]),u[6]=l[0],u[7]=l[1],a(t,t+e,u[0]+r,u[1]+n,u[4]+r,u[5]+n,u[2]+r,u[3]+n,u[6]+r,u[7]+n,.5*(o-i))}var $=function(t,e,r,n,i){return t.beginPath(),t.translate(r,n),t.rotate(i),t.font=e["font-size"]+"px "+e["font-family"],t},z=function(t,e,r,n,i,o,a,u){if(i>o){var l=i;i=o,o=l}return a%=2*Math.PI,u>=1.999999*Math.PI||u<=1.999999*-Math.PI?u=2*Math.PI:u%=2*Math.PI,D(a,u,r,n,i,o,(function(a,u,l,f,c,d,s,h,p,g,v){v<0&&(v=-v),t.beginPath(),t.moveTo(l,f),t.arc(r,n,i,a,u,!1),"round"==e["arc-end-cap"]?t.arc(.5*(s+p),.5*(h+g),v,u-Math.PI,u,!0):"-round"==e["arc-end-cap"]?t.arc(.5*(s+p),.5*(h+g),v,u-Math.PI,u,!1):t.lineTo(p,g),t.arc(r,n,o,u,a,!0),"round"==e["arc-start-cap"]?t.arc(.5*(l+c),.5*(f+d),v,a,a-Math.PI,!0):"-round"==e["arc-start-cap"]?t.arc(.5*(l+c),.5*(f+d),v,a,a-Math.PI,!1):t.lineTo(l,f)})),"butt"==e["arc-start-cap"]&&t.closePath(),t},F=function(t,e,r,n){return t.beginPath(),t.moveTo(e+n,r),t.arc(e,r,n,0,2*Math.PI),t},R=function(t,e,r,n,i){return t.beginPath(),t.rect(e,r,n,i),t};function W(e,r){var n=e.getContext("2d"),i="yes"==e.__image2D__layer__,o=i?e.getAttribute("width"):e.clientWidth,a=i?e.getAttribute("height"):e.clientHeight;0!=o&&0!=a||(r||console.warn("Canvas is hidden or size is zero!"),"yes"==e.__image2D__noLayer_getSize__?(o=e.width/2,a=e.height/2):(o=e.width,a=e.height,e.__image2D__noLayer_getSize__="yes")),e.style.width=o+"px",e.style.height=a+"px",e.setAttribute("width",2*o),e.setAttribute("height",2*a),n.scale(2,2),n.textBaseline="middle",n.textAlign="left";var u={"font-size":"16","font-family":"sans-serif","arc-start-cap":"butt","arc-end-cap":"butt"},l=function(t,e){if("lineDash"==t)try{n.setLineDash(e)}catch(t){console.error(t)}else u[t]?u[t]=e:n[t]=e},f={config:function(){if(1===arguments.length){if("object"!==t(arguments[0]))return n[arguments[0]];for(var e in arguments[0])l(e,arguments[0][e])}else 2===arguments.length&&l(arguments[0],arguments[1]);return f},fillText:function(t,e,r,i){return n.save(),$(n,u,e,r,i||0).fillText(t,0,0),n.restore(),f},strokeText:function(t,e,r,i){return n.save(),$(n,u,e,r,i||0).strokeText(t,0,0),n.restore(),f},fullText:function(t,e,r,i){return n.save(),$(n,u,e,r,i||0),n.fillText(t,0,0),n.strokeText(t,0,0),n.restore(),f},beginPath:function(){return n.beginPath(),f},closePath:function(){return n.closePath(),f},moveTo:function(t,e){return n.moveTo(t,e),f},lineTo:function(t,e){return n.lineTo(t,e),f},arc:function(t,e,r,i,o){return n.arc(t,e,r,i,i+o,o<0),f},fill:function(){return n.fill(),f},stroke:function(){return n.stroke(),f},full:function(){return n.fill(),n.stroke(),f},save:function(){return n.save(),f},restore:function(){return n.restore(),f},quadraticCurveTo:function(t,e,r,i){return n.quadraticCurveTo(t,e,r,i),f},bezierCurveTo:function(t,e,r,i,o,a){return n.bezierCurveTo(t,e,r,i,o,a),f},clearRect:function(t,r,i,o){return n.clearRect(t||0,r||0,i||e.getAttribute("width")/2,o||e.getAttribute("height")/2),f},toDataURL:function(){return e.toDataURL()},drawImage:function(t,r,i,o,a,u,l,c,d){return r=r||0,i=i||0,u=u||0,l=l||0,c=c?2*c:e.getAttribute("width"),d=d?2*d:e.getAttribute("height"),"CANVAS"==t.nodeName?(c/=2,d/=2,o=o?2*o:e.getAttribute("width"),a=a?2*a:e.getAttribute("height")):(o=2*(o||t.width),a=2*(a||t.height)),n.drawImage(t,r,i,o,a,u,l,c,d),f},fillArc:function(t,e,r,i,o,a){return z(n,u,t,e,r,i,o,a).fill(),f},strokeArc:function(t,e,r,i,o,a){return z(n,u,t,e,r,i,o,a).stroke(),f},fullArc:function(t,e,r,i,o,a){return z(n,u,t,e,r,i,o,a),n.fill(),n.stroke(),f},fillCircle:function(t,e,r){return F(n,t,e,r).fill(),f},strokeCircle:function(t,e,r){return F(n,t,e,r).stroke(),f},fullCircle:function(t,e,r){return F(n,t,e,r),n.fill(),n.stroke(),f},fillRect:function(t,e,r,i){return R(n,t,e,r,i).fill(),f},strokeRect:function(t,e,r,i){return R(n,t,e,r,i).stroke(),f},fullRect:function(t,e,r,i){return R(n,t,e,r,i),n.fill(),n.stroke(),f},createLinearGradient:function(t,e,r,i){return function(t,e,r,n,i){var o=t.createLinearGradient(e,r,n,i),a={value:function(){return o},addColorStop:function(t,e){return o.addColorStop(t,e),a}};return a}(n,t,e,r,i)},createRadialGradient:function(t,e,r){return function(t,e,r,n){var i=t.createRadialGradient(e,r,0,e,r,n),o={value:function(){return i},addColorStop:function(t,e){return i.addColorStop(t,e),o}};return o}(n,t,e,r)},translate:function(t,e){return n.translate(t,e),f},rotate:function(t){return n.rotate(t),f},scale:function(t,e){return e=e||t,n.scale(t,e),f}};return f}function B(t,e){return"textAlign"===t&&{left:"start",right:"end",center:"middle"}[e]||e}var H=function(t,e,r,n,i){if(!t||t.length<=0||"text"!==t[0].nodeName.toLowerCase())throw new Error("Need a <text> !");return i%=2*Math.PI,t.attr("dy",{top:.5*e["font-size"],middle:0,bottom:.5*-e["font-size"]}[e.textBaseline]).css({"text-anchor":e.textAlign,"dominant-baseline":"central","font-size":e["font-size"]+"px","font-family":e["font-family"]}).attr({x:r,y:n}),{transform:"rotate("+180*i/Math.PI+","+r+","+n+")"}},O=function(t,e,r,n,i,o,a,u){if(!t||t.length<=0||"path"!==t[0].nodeName.toLowerCase())throw new Error("Need a <path> !");if(a%=2*Math.PI,i>o){var l=i;i=o,o=l}return u>=1.999999*Math.PI||u<=1.999999*-Math.PI?u=1.999999*Math.PI:u%=2*Math.PI,D(a,u,r,n,i,o,(function(r,n,a,u,l,f,c,d,s,h,p){var g=n-r>Math.PI?1:0,v="M"+a+" "+u;p<0&&(p=-p),v+="A"+i+" "+i+" 0 "+g+" 1 "+c+" "+d,"round"==e["arc-end-cap"]?v+="A"+p+" "+p+"  0 1 0 "+s+" "+h:"-round"==e["arc-end-cap"]?v+="A"+p+" "+p+"  0 1 1 "+s+" "+h:v+="L"+s+" "+h,v+="A"+o+" "+o+" 0 "+g+" 0 "+l+" "+f,"round"==e["arc-start-cap"]?v+="A"+p+" "+p+"  0 1 0 "+a+" "+u:"-round"==e["arc-start-cap"]?v+="A"+p+" "+p+"  0 1 1 "+a+" "+u:v+="L"+a+" "+u,"butt"==e["arc-start-cap"]&&(v+="Z"),t.attr("d",v)})),t},G=function(t,e,r,n){if(!t||t.length<=0||"circle"!==t[0].nodeName.toLowerCase())throw new Error("Need a <circle> !");return t.attr({cx:e,cy:r,r:n}),t},V=function(t,e){if(!t||t.length<=0||"path"!==t[0].nodeName.toLowerCase())throw new Error("Need a <path> !");return t.attr("d",e),t},q=function(t,e,r,n,i){if(!t||t.length<=0||"rect"!==t[0].nodeName.toLowerCase())throw new Error("Need a <rect> !");return i<0&&(r-=i*=-1),n<0&&(e-=n*=-1),t.attr({x:e,y:r,width:n,height:i}),t},U=function(t){var e=t.getElementsByTagName("defs");return e.length<=0&&(e=[y("<defs>","SVG")],t.appendChild(e[0])),e[0]};function Y(e,r){var n=void 0;r&&(n=b(r,e));var i={fillStyle:"#000",strokeStyle:"#000",lineWidth:1,textAlign:"start",textBaseline:"middle","font-size":"16","font-family":"sans-serif","arc-start-cap":"butt","arc-end-cap":"butt",lineDash:[]},o="",a=[],u=[],l="",f={config:function(){if(1===arguments.length){if("object"!==t(arguments[0]))return i[arguments[0]];for(var e in arguments[0])i[e]=B(e,arguments[0][e])}else 2===arguments.length&&(i[arguments[0]]=B(arguments[0],arguments[1]));return f},bind:function(t){return n=b(t,e),f},appendTo:function(t){return n.appendTo(t||e,e),f},prependTo:function(t){return n.prependTo(t||e,e),f},afterTo:function(t){return n.afterTo(t||e,e),f},beforeTo:function(t){return n.beforeTo(t||e,e),f},beginPath:function(){return o="",a=[],f},closePath:function(){return o+="Z",f},moveTo:function(t,e){return o+="M"+t+" "+e,a=[t,e],f},lineTo:function(t,e){return o+=(""==o?"M":"L")+t+" "+e,a=[t,e],f},arc:function(t,e,r,n,i){var u=x(t,e,n,t+r,e),l=x(t,e,n+i,t+r,e);return n=n/Math.PI*180,i=i/Math.PI*180,""==o?o+="M"+u[0]+","+u[1]:u[0]==a[0]&&u[1]==a[1]||(o+="L"+u[0]+","+u[1]),o+="A"+r+","+r+" 0 "+(i>180||i<-180?1:0)+","+(i>0?1:0)+" "+l[0]+","+l[1],f},fill:function(){return V(n,o).attr("transform",l).attr("fill",i.fillStyle),f},stroke:function(){return V(n,o).attr("transform",l).attr({"stroke-width":i.lineWidth,stroke:i.strokeStyle,fill:"none","stroke-dasharray":i.lineDash.join(",")}),f},full:function(){return V(n,o).attr("transform",l).attr({"stroke-width":i.lineWidth,stroke:i.strokeStyle,fill:i.fillStyle,"stroke-dasharray":i.lineDash.join(",")}),f},save:function(){return u.push(l),f},restore:function(){return u.length>0&&(l=u.pop()),f},quadraticCurveTo:function(t,e,r,n){return o+="Q"+t+" "+e+","+r+" "+n,f},bezierCurveTo:function(t,e,r,n,i,a){return o+="C"+t+" "+e+","+r+" "+n+","+i+" "+a,f},fillText:function(t,e,r,o){var a=H(n,i,e,r,o||0);return n.attr("transform",l+a.transform).attr("fill",i.fillStyle)[0].textContent=t,f},strokeText:function(t,e,r,o){var a=H(n,i,e,r,o||0);return n.attr("transform",l+a.transform).attr({stroke:i.strokeStyle,fill:"none","stroke-dasharray":i.lineDash.join(",")})[0].textContent=t,f},fullText:function(t,e,r,o){var a=H(n,i,e,r,o||0);return n.attr("transform",l+a.transform).attr({stroke:i.strokeStyle,fill:i.fillStyle,"stroke-dasharray":i.lineDash.join(",")})[0].textContent=t,f},fillArc:function(t,e,r,o,a,u){return O(n,i,t,e,r,o,a,u).attr("transform",l).attr("fill",i.fillStyle),f},strokeArc:function(t,e,r,o,a,u){return O(n,i,t,e,r,o,a,u).attr("transform",l).attr({"stroke-width":i.lineWidth,stroke:i.strokeStyle,fill:"none","stroke-dasharray":i.lineDash.join(",")}),f},fullArc:function(t,e,r,o,a,u){return O(n,i,t,e,r,o,a,u).attr("transform",l).attr({"stroke-width":i.lineWidth,stroke:i.strokeStyle,fill:i.fillStyle,"stroke-dasharray":i.lineDash.join(",")}),f},fillCircle:function(t,e,r){return G(n,t,e,r).attr("transform",l).attr("fill",i.fillStyle),f},strokeCircle:function(t,e,r){return G(n,t,e,r).attr("transform",l).attr({"stroke-width":i.lineWidth,stroke:i.strokeStyle,fill:"none","stroke-dasharray":i.lineDash.join(",")}),f},fullCircle:function(t,e,r){return G(n,t,e,r).attr("transform",l).attr({"stroke-width":i.lineWidth,stroke:i.strokeStyle,fill:i.fillStyle,"stroke-dasharray":i.lineDash.join(",")}),f},fillRect:function(t,e,r,o){return q(n,t,e,r,o).attr("transform",l).attr("fill",i.fillStyle),f},strokeRect:function(t,e,r,o){return q(n,t,e,r,o).attr("transform",l).attr({"stroke-width":i.lineWidth,stroke:i.strokeStyle,fill:"none","stroke-dasharray":i.lineDash.join(",")}),f},fullRect:function(t,e,r,o){return q(n,t,e,r,o).attr("transform",l).attr({"stroke-width":i.lineWidth,stroke:i.strokeStyle,fill:i.fillStyle,"stroke-dasharray":i.lineDash.join(",")}),f},createLinearGradient:function(t,r,n,i){return function(t,e,r,n,i,o){var a=U(e),u="image2D-lg-"+(new Date).valueOf()+"-"+Math.random(),l=y('<linearGradient id="'+u+'" x1="'+r+'%" y1="'+n+'%" x2="'+i+'%" y2="'+o+'%"></linearGradient>');a.appendChild(l);var f={value:function(){return"url(#"+u+")"},addColorStop:function(t,e){return l.appendChild(y('<stop offset="'+100*t+'%" style="stop-color:'+e+';" />')),f}};return f}(0,e,t,r,n,i)},createRadialGradient:function(t,r,n){return function(t,e,r,n,i){var o=U(e),a="image2D-rg-"+(new Date).valueOf()+"-"+Math.random(),u=y('<radialGradient id="'+a+'" cx="'+r+'%" cy="'+n+'%" r="'+i+'%"></radialGradient>');o.appendChild(u);var l={value:function(){return"url(#"+a+")"},addColorStop:function(t,e){return u.appendChild(y('<stop offset="'+100*t+'%" style="stop-color:'+e+';" />')),l}};return l}(0,e,t,r,n)},translate:function(t,e){return l+=" translate("+t+","+e+")",f},rotate:function(t){return t%=2*Math.PI,l+=" rotate("+t/Math.PI*180+")",f},scale:function(t,e){return l+=" scale("+t+","+(e=e||t)+")",f}};return f}if(b.extend({treeLayout:function(t){t=e({"begin-deg":0,deg:2*Math.PI},t);var r=_().root(t.root).child(t.child).id(t.id),n=function e(n){var i=r(n);for(var o in i.node)i.node[o].deep=i.node[o].left-.5;if("LR"===t.type||"RL"===t.type){var a=t.width/i.deep;"RL"===t.type&&(a*=-1);var u=t.height/(i.size- -.5);for(var l in i.node){var f=i.node[l];i.node[l].left=+(("RL"==t.type?t.width:0)- -f.left*a).toFixed(7),i.node[l].top=+(f.top*u).toFixed(7)}}else if("TB"===t.type||"BT"===t.type){var c=t.height/i.deep;"BT"==t.type&&(c*=-1);var d=t.width/(i.size- -.5),s=void 0,h=void 0;for(var p in i.node){var v=i.node[p];s=v.left,h=v.top,i.node[p].top=+(("BT"==t.type?t.height:0)- -s*c).toFixed(7),i.node[p].left=+(h*d).toFixed(7)}}else if("circle"===t.type)if(1==i.deep&&1==i.size)i.node[i.root].left=t.cx,i.node[i.root].top=t.cy;else{var w=t.radius/(i.deep-1),y=t.deg/(i.size- -.5);for(var m in i.node){var b=i.node[m];i.node[m].deg=(t["begin-deg"]- -y*b.top)%(2*Math.PI);var _=x(t.cx,t.cy,i.node[m].deg,t.cx- -w*(b.left-.5),t.cy);i.node[m].left=+_[0],i.node[m].top=+_[1]}}return g(t.drawer)?(t.drawer(i),e):i};return n.config=function(r){return t=e(t,r),n},n.drawer=function(e){return t.drawer=e,n},n},pieLayout:function(t){if(t=e({"begin-deg":-Math.PI/2,deg:2*Math.PI,radius:[]},t),!g(t.value))throw new Error("config.value must be a function!");var r=function e(r){var n=0,i=[],o=0;for(var a in r)i.push({value:t.value(r[a],a,n),data:r[a],key:a,index:n,dots:[]}),o+=i[n].value,n+=1;for(n=0;n<i.length;n++){i[n].beginDeg=0===n?t["begin-deg"]:i[n-1].beginDeg+i[n-1].deg;var u=i[n].value/o;i[n].deg=u*t.deg,i[n].percent=new Number(100*u).toFixed(2)}if(h(t.cx)&&h(t.cy))for(n=0;n<t.radius.length;n++)for(var l=0;l<i.length;l++)i[l].dots.push(x(t.cx,t.cy,i[l].beginDeg+.5*i[l].deg,t.cx+t.radius[n],t.cy));return g(t.drawer)?(t.drawer(i),e):i};return r.config=function(n){return t=e(t,n),r},r.drawer=function(e){return t.drawer=e,r},r},Matrix4:function(t){var e=t||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r={move:function(t,n,i,o){return e=M(function(t,e,r,n){n=n||0;var i=Math.sqrt(e*e+r*r+n*n);return[1,0,0,0,0,1,0,0,0,0,1,0,e*t/i,r*t/i,n*t/i,1]}(t,n,i,o),e),r},rotate:function(t,n,i,o,a,u,l){var f=function(t,e,r,n,i,o){if("number"==typeof t&&"number"==typeof e){if("number"!=typeof r?(r=0,n=t,i=e,o=1):"number"==typeof n&&"number"==typeof i&&"number"==typeof o||(n=t,i=e,o=r,t=0,e=0,r=0),t==n&&e==i&&r==o)throw new Error("It's not a legitimate ray!");var a=Math.sqrt((n-t)*(n-t)+(i-e)*(i-e)),u=0!=a?(i-e)/a:1,l=0!=a?(n-t)/a:0,f=(n-t)*l+(i-e)*u,c=o-r,d=Math.sqrt(f*f+c*c),s=0!=d?c/d:1,h=0!=d?f/d:0;return[[u,s*l,l*h,0,-l,u*s,u*h,0,0,-h,s,0,e*l-t*u,r*h-t*l*s-e*u*s,-t*l*h-e*u*h-r*s,1],[u,-l,0,0,s*l,s*u,-h,0,l*h,u*h,s,0,t,e,r,1]]}throw new Error("a1 and b1 is required!")}(n,i,o,a,u,l);return e=M(M(M(f[1],function(t){var e=Math.sin(t),r=Math.cos(t);return[r,e,0,0,-e,r,0,0,0,0,1,0,0,0,0,1]}(t)),f[0]),e),r},scale:function(t,n,i,o,a,u){return e=M(function(t,e,r,n,i,o){return[t,0,0,0,0,e,0,0,0,0,r,0,(n=n||0)-n*t,(i=i||0)-i*e,(o=o||0)-o*r,1]}(t,n,i,o,a,u),e),r},multiply:function(t,n){return e=n?M(e,t):M(t,e),r},use:function(t,r,n,i){var o=M(e,[t,r,n=n||0,i=i||1]);return o[0]=+o[0].toFixed(7),o[1]=+o[1].toFixed(7),o[2]=+o[2].toFixed(7),o[3]=+o[3].toFixed(7),o},value:function(){return e}};return r},rotate:x,move:T,scale:k,dot:function(t){t=e({d:[1,1],c:[0,0],p:[0,0]},t);var r={rotate:function(e){var n=t.d[0]+t.p[0],i=t.d[1]+t.p[1],o=x(t.p[0],t.p[1],e,n,i);return t.d=[o[0]-t.p[0],o[1]-t.p[1]],r},move:function(e){return t.p=T(t.d[0],t.d[1],e,t.p[0],t.p[1]),r},scale:function(e){return t.p=k(t.c[0],t.c[1],e,t.p[0],t.p[1]),r},value:function(){return t.p}};return r},animation:function(t,e,r,n){g(r)||(n=r,r=!1);var i,o={ease:[.25,.1,.5,1],"ease-in":[.5,0,.75,.6],"ease-in-out":[.43,.01,.58,1],"ease-out":[.25,.6,.5,1],linear:"default"}[n]||n,a=function(t){return t};return o&&(i=o,Array.isArray(i))&&4==o.length&&(a=P({u:1}).setP(0,0,1,1,o[1]/o[0],(1-o[3])/(1-o[2]))),
/*!
     * üí° - Âä®ÁîªËΩÆÊí≠
     * https://github.com/hai2007/tool.js/blob/master/animation.js
     *
     * author hai2007 < https://hai2007.gitee.io/sweethome >
     *
     * Copyright (c) 2020-present hai2007 Ëµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„ÄÇ
     * Released under the MIT license
     */
function(t,e,r){arguments.length<2&&(e=400);var n={timer:function(t,e,r){if(!t)throw new Error("Tick is required!");var i=(new Date).valueOf()+"_"+(1e3*Math.random()).toFixed(0);return E.push({id:i,createTime:new Date,tick:t,duration:e,callback:r}),n.start(),i},start:function(){C||(C=setInterval(n.tick,13))},tick:function(){var t,e,r,i,o,a,u,l=E;for((E=[]).length=0,e=0;e<l.length;e++)t=(o=l[e]).createTime,r=o.tick,a=o.duration,i=o.callback,r(u=(u=(+new Date-t)/a)>1?1:u),u<1&&o.id?E.push(o):i&&i(u);E.length<=0&&n.stop()},stop:function(){C&&(clearInterval(C),C=null)}},i=n.timer((function(e){t(e)}),e,r);return function(){var t;for(t in E)if(E[t].id==i)return void(E[t].id=void 0)}}((function(e){t(a(e))}),e,(function(t){g(r)&&(1!=t&&(t=a(t)),r(t))}))},cardinal:function(t){t=e({t:0},t);var r=void 0,n=void 0,i=function(t){if(r){for(n=-1;n+1<r.x.length&&(t>r.x[n+1]||-1==n&&t>=r.x[n+1]);)n+=1;if(-1==n||n>=r.h.length)throw new Error("Coordinate crossing!");return r.h[n](t)}throw new Error("You shoud first set the position!")};return i.setT=function(e){if("number"!=typeof e)throw new Error("Expecting a figure!");return t.t=e,i},i.setP=function(e){r={x:[],h:[]};var n=void 0,o=(e[1][1]-e[0][1])/(e[1][0]-e[0][0]),a=void 0;for(r.x[0]=e[0][0],n=1;n<e.length;n++){if(e[n][0]<=e[n-1][0])throw new Error("The point position should be increamented!");r.x[n]=e[n][0],a=n<e.length-1?(e[n+1][1]-e[n-1][1])/(e[n+1][0]-e[n-1][0]):(e[n][1]-e[n-1][1])/(e[n][0]-e[n-1][0]),r.h[n-1]=P({u:.5*(1-t.t)}).setP(e[n-1][0],e[n-1][1],e[n][0],e[n][1],o,a),o=a}return i},i},formatColor:function(t){var e=document.getElementsByTagName("head")[0];e.style.color=t;var r=S(e,"color").replace(/^rgba?\(([^)]+)\)$/,"$1").split(new RegExp("\\,"+i));return[+r[0],+r[1],+r[2],null==r[3]?1:+r[3]]},getRandomColors:function(t,e){e&&e>=0&&e<=1||(e=1);for(var r=[],n=1;n<=t;n++)r.push("rgba("+(230*Math.random(1)+20).toFixed(0)+","+(230*Math.random(1)+20).toFixed(0)+","+(230*Math.random(1)+20).toFixed(0)+","+e+")");return r},getLoopColors:function(t,e){e&&e>=0&&e<=1||(e=1);var r=["rgba(84,112,198,"+e+")","rgba(145,204,117,"+e+")","rgba(250,200,88,"+e+")","rgba(238,102,102,"+e+")","rgba(115,192,222,"+e+")","rgba(59,162,114,"+e+")","rgba(252,132,82,"+e+")","rgba(154,96,180,"+e+")","rgba(234,124,204,"+e+")"],n=[];if(t<=r.length)return r;if(t%r.length==0)for(var i=0;i<t/r.length;i++)n=n.concat(r);else{for(var o=1;o<t/r.length;o++)n=n.concat(r);if(t%r.length==1)n=n.concat(r[4]);else for(var a=0;a<t%r.length;a++)n=n.concat(r[a])}return n},stopPropagation:function(t){return(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},preventDefault:function(t){return(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,this},map:function(t){var r=e({type:"eoap",scale:1,center:[107,36]},t),n=function(t,e){if("eoap"===r.type)return L(r,t,e);throw new Error("Map type configuration error!")};return n.config=function(t){return r=e(r,t),n},n},ruler:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=N(t,e,r);return{min:n[0],max:n[n.length-1],distance:n.length<=1?0:n[1]-n[0],num:n.length-1,ruler:n}}}),b.prototype.extend({appendTo:function(t,e){var r=m(t,e||document);if(!(r.length>0))throw new Error("Target empty!");for(var n=0;n<this.length;n++)r[0].appendChild(this[n]);return this},prependTo:function(t,e){var r=m(t,e||document);if(!(r.length>0))throw new Error("Target empty!");for(var n=0;n<this.length;n++)r[0].insertBefore(this[n],r[0].childNodes[0]);return this},afterTo:function(t,e){var r=m(t,e||document);if(!(r.length>0))throw new Error("Target empty!");for(var n=0;n<this.length;n++)r[0].parentNode.insertBefore(this[n],r[0].nextSibling);return this},beforeTo:function(t,e){var r=m(t,e||document);if(!(r.length>0))throw new Error("Target empty!");for(var n=0;n<this.length;n++)r[0].parentNode.insertBefore(this[n],r[0]);return this},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode.removeChild(this[t]);return this},filter:function(t){for(var e=[],r=0;r<this.length;r++)t(r,b(this[r]))&&e.push(this[r]);return b(e)},text:function(t){if(arguments.length>0){for(var e=0;e<this.length;e++)this[e].textContent=t;return this}if(this.length<=0)throw new Error("Target empty!");return this[0].textContent},html:function(t){if(arguments.length>0){for(var e=0;e<this.length;e++)/[a-z]/.test(this[e].tagName)?w(this[e],t):this[e].innerHTML=t;return this}if(this.length<=0)throw new Error("Target empty!");return this[0].innerHTML},size:function(t){if(this.length<=0)throw new Error("Target empty!");var e=void 0,r=void 0,n=this[0];return"content"==t?(r=n.clientWidth-(S(n,"padding-left")+"").replace("px","")-(S(n,"padding-right")+"").replace("px",""),e=n.clientHeight-(S(n,"padding-top")+"").replace("px","")-(S(n,"padding-bottom")+"").replace("px","")):"padding"==t?(r=n.clientWidth,e=n.clientHeight):"border"==t?(r=n.offsetWidth,e=n.offsetHeight):"scroll"==t?(r=n.scrollWidth,e=n.scrollHeight):(r=n.offsetWidth,e=n.offsetHeight),{width:r,height:e}},css:function(){if(arguments.length<=1&&(arguments.length<=0||"object"!==t(arguments[0]))){if(this.length<=0)throw new Error("Target empty!");return S(this[0],arguments[0])}for(var e=0;e<this.length;e++)if(1===arguments.length)for(var r in arguments[0])this[e].style[r]=arguments[0][r];else this[e].style[arguments[0]]=arguments[1];return this},attr:function(){if(1===arguments.length&&"object"!==t(arguments[0])){if(this.length<=0)throw new Error("Target empty!");return this[0].getAttribute(arguments[0])}if(arguments.length>0)for(var e=0;e<this.length;e++)if(1===arguments.length)for(var r in arguments[0])j(this[e],r,arguments[0][r]);else j(this[e],arguments[0],arguments[1]);return this},datum:function(t,e){if(arguments.length<=0){if(this.length<=0)throw new Error("Target empty!");return this[0].__data__}for(var r=0;r<this.length;r++)this[r].__data__="function"==typeof e?e(t,r):t;return this},data:function(t,e){if(arguments.length<=0){for(var r=[],n=0;n<this.length;n++)r[n]=this[n].__data__;return r}var i=[],o=void 0;for(o=0;o<this.length&&o<t.length;o++)this[o].__data__="function"==typeof e?e(t[o],o):t[o],i.push(this[o]);var a=b(i);for(a.__enter__=[];o<t.length;o++)a.__enter__.push("function"==typeof e?e(t[o],o):t[o]);for(a.__exit__=[];o<this.length;o++)a.__exit__.push(this[o]);return a},enter:function(t,e){if(!this.__enter__||this.__enter__.constructor!==Array)throw new Error("Not a data node object to be balanced!");for(var r=[],n=0;n<this.__enter__.length;n++)r[n]=y(t,e),r[n].__data__=this.__enter__[n];return delete this.__enter__,b(r)},exit:function(){if(!this.__exit__||this.__exit__.constructor!==Array)throw new Error("Not a data node object to be balanced!");var t=b(this.__exit__);return delete this.__exit__,t},loop:function(t){for(var e=0;e<this.length;e++)t(this[e].__data__,e,b(this[e]));return this},bind:function(t,e){if(window.attachEvent)for(var r=0;r<this.length;r++)this[r].attachEvent("on"+t,e);else for(var n=0;n<this.length;n++)this[n].addEventListener(t,e,!1);return this},unbind:function(t,e){if(window.detachEvent)for(var r=0;r<this.length;r++)this[r].detachEvent("on"+t,e);else for(var n=0;n<this.length;n++)this[n].removeEventListener(t,e,!1);return this},position:function(t){var e=this[0].getBoundingClientRect();if(!t||!t.clientX)throw new Error("Event is necessary!");return{x:t.clientX-e.left,y:t.clientY-e.top}},painter:function(){if(!v(this[0]))throw new Error("Target empty!");var t=this[0],e=t.nodeName.toLowerCase();if("canvas"===e)return W(t,arguments[0]);if("svg"===e)return Y(t,arguments[0]);throw new Error("Painter is not a function!")},layer:function(){if(!v(this[0]))throw new Error("Target empty!");if("canvas"!==this[0].nodeName.toLowerCase())throw new Error("Layer is not a function!");var t=this.painter(),e={},r=[],n=this[0].clientWidth,i=this[0].clientHeight,o={painter:function(t){return e[t]||(e[t]={visible:!0},e[t].canvas=document.createElement("canvas"),e[t].canvas.setAttribute("width",n),e[t].canvas.setAttribute("height",i),e[t].canvas.__image2D__layer__="yes",e[t].painter=b(e[t].canvas).painter(),r.push(t)),e[t].painter},delete:function(t){for(var n=0;n<r.length;n++)if(r[n]===t){r.splice(n,1);break}return delete e[t],o},update:function(){t.clearRect(0,0,n,i),t.save();for(var a=0;a<r.length;a++)e[r[a]].visible&&t.drawImage(e[r[a]].canvas,0,0,n,i,0,0,n,i);return t.restore(),o},hidden:function(t){return e[t].visible=!1,o},show:function(t){return e[t].visible=!0,o}};return o}}),b.fn=b.prototype,"object"===("undefined"==typeof module?"undefined":t(module))&&"object"===t(module.exports))module.exports=b;else{var X=window.image2D,Z=window.$$;b.noConflict=function(t){return window.$$===b&&(window.$$=Z),t&&window.image2D===b&&(window.image2D=X),b},window.image2D=window.$$=b}}(),{}},window.__nefbl_pack__bundleSrc__[39]=function(){var t={};return t.default="\n svg{\n\ndisplay: block;\n\nmargin: 100px auto;\n\nwidth: calc(100vh - 200px);\n\n}\n",t},window.__nefbl_pack__bundleSrc__[40]=function(){var t={};return t.default="<svg id='palette' viewBox='0 0 500 500'></svg>\n",t};