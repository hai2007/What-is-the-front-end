window.__nefbl_pack__bundleSrc__[24]=function(){var n,t={};function r(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var e=window.__nefbl_pack__getBundle("1").Component,i=window.__nefbl_pack__getBundle("45").default,o=window.__nefbl_pack__getBundle("47").default,a=window.__nefbl_pack__getBundle("49").default,u=e({selector:"page-index2",template:window.__nefbl_pack__getBundle("50").default,styles:[a]})(n=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,e,a;return t=n,(e=[{key:"$mounted",value:function(){var n=new i(document.getElementsByTagName("canvas")[0],{"vertex-shader":document.getElementById("vs").innerText,"fragment-shader":document.getElementById("fs").innerText,depth:!0}),t=n.Painter(),r=n.Buffer(),e=n.Camera(),a=o({precision:.1});window.__interval2__&&clearInterval(window.__interval2__),window.__interval2__=setInterval((function(){n.setUniformMatrix("u_matrix",e.rotateBody(.02,-1,1,0,1,-1,0).value()),n.setUniformFloat("u_color",.1,.3,.1,1),a.sphere((function(n){r.write(new Float32Array(n.points)).use("a_position",3,3,0),t.drawStripTriangle(0,n.length)}),0,.1,0,.5).cylinder((function(e){r.write(new Float32Array(e.points)).use("a_position",3,3,0),"StripTriangle"==e.methods?(n.setUniformFloat("u_color",1,0,0,.5),t.drawStripTriangle(0,e.length)):"FanTriangle"==e.methods&&(n.setUniformFloat("u_color",0,0,.5,.1),t.drawFanTriangle(0,e.length))}),0,-.7,0,.3,1.4)}),50)}}])&&r(t.prototype,e),a&&r(t,a),n}())||n;return t.default=u,t},window.__nefbl_pack__bundleSrc__[45]=function(){var n={};return window.__nefbl_pack__getBundle("46"),n.default=image3D,n},window.__nefbl_pack__bundleSrc__[46]=function(){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};return function(){"use strict";var t=function(n,t,r){var e=n.createShader(t);if(null==e)throw new Error("Unable to create shader!");if(n.shaderSource(e,r),n.compileShader(e),!n.getShaderParameter(e,n.COMPILE_STATUS))throw new Error("Failed to compile shader:"+n.getShaderInfoLog(e));return e};function r(n,r){var e=function(n,t){var r=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,i=void 0;for(i=0;i<r.length;i++){try{e=n.getContext(r[i],t)}catch(n){}if(e)break}if(!e)throw new Error("Non canvas or browser does not support webgl.");return e}(n,r),i={_gl_:e,painter:function(){return function(n){var t={byte:n.UNSIGNED_BYTE,short:n.UNSIGNED_SHORT};return{openDeep:function(){return n.enable(n.DEPTH_TEST),this},points:function(r,e,i){return i?n.drawElements(n.POINTS,e,t[i],r):n.drawArrays(n.POINTS,r,e),this},lines:function(r,e,i){return i?n.drawElements(n.LINES,e,t[i],r):n.drawArrays(n.LINES,r,e),this},stripLines:function(r,e,i){return i?n.drawElements(n.LINE_STRIP,e,t[i],r):n.drawArrays(n.LINE_STRIP,r,e),this},loopLines:function(r,e,i){return i?n.drawElements(n.LINE_LOOP,e,t[i],r):n.drawArrays(n.LINE_LOOP,r,e),this},triangles:function(r,e,i){return i?n.drawElements(n.TRIANGLES,e,t[i],r):n.drawArrays(n.TRIANGLES,r,e),this},stripTriangles:function(r,e,i){return i?n.drawElements(n.TRIANGLE_STRIP,e,t[i],r):n.drawArrays(n.TRIANGLE_STRIP,r,e),this},fanTriangles:function(r,e,i){return i?n.drawElements(n.TRIANGLE_FAN,e,t[i],r):n.drawArrays(n.TRIANGLE_FAN,r,e),this}}}(e)},shader:function(n,r){return e.program=function(n,r,e){var i=t(n,n.VERTEX_SHADER,r),o=t(n,n.FRAGMENT_SHADER,e),a=n.createProgram();if(n.attachShader(a,i),n.attachShader(a,o),n.linkProgram(a),!n.getProgramParameter(a,n.LINK_STATUS))throw new Error("Failed to link program: "+n.getProgramInfoLog(a));return n.useProgram(a),a}(e,n,r),i},buffer:function(n){!function(n,t){var r=n.createBuffer(),e=t?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER;n.bindBuffer(e,r)}(e,n);var t=void 0,r={write:function(i,o){return o=o||e.STATIC_DRAW,function(n,t,r,e){var i=e?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER;n.bufferData(i,t,r)}(e,i,o,n),t=i,r},use:function(n,i,o,a,u,f){var c=t.BYTES_PER_ELEMENT;return"string"==typeof n&&(n=e.getAttribLocation(e.program,n)),o=o||0,a=a||0,u=u||e.FLOAT,function(n,t,r,e,i,o,a){n.vertexAttribPointer(t,r,e,a||!1,i||0,o||0),n.enableVertexAttribArray(t)}(e,n,i,u,o*c,a*c,f),r}};return r},texture:function(n,t){var r={"2d":e.TEXTURE_2D,cube:e.TEXTURE_CUBE_MAP}[n],i=function(n,t,r,e){var i=n.createTexture();return"2d"==e&&(r=r||0,n.activeTexture(n["TEXTURE"+r])),n.bindTexture(t,i),i}(e,r,t,n);e.texParameteri(r,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(r,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(r,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);var o={useImage:function(n,t,i,a){return function(n,t,r,e,i,o){e={rgb:n.RGB,rgba:n.RGBA,alpha:n.ALPHA}[e]||n.RGBA,n.texImage2D(t,r||0,e,e,{}[i]||n.UNSIGNED_BYTE,o)}(e,r,t,i,a,n),o},useCube:function(n,t,o,a,u,f){!function(n,t,r,e,i,o,a,u,f){e={rgb:n.RGB,rgba:n.RGBA,alpha:n.ALPHA}[e]||n.RGBA,r=r||0,i={}[i]||n.UNSIGNED_BYTE;var c=[n.TEXTURE_CUBE_MAP_POSITIVE_X,n.TEXTURE_CUBE_MAP_NEGATIVE_X,n.TEXTURE_CUBE_MAP_POSITIVE_Y,n.TEXTURE_CUBE_MAP_NEGATIVE_Y,n.TEXTURE_CUBE_MAP_POSITIVE_Z,n.TEXTURE_CUBE_MAP_NEGATIVE_Z],s=void 0,l=void 0;for(s=0;s<c.length;s++)l=c[s],n.texImage2D(l,r,e,a,u,0,e,i,null),n.bindTexture(t,f),n.texImage2D(l,r,e,e,i,o[s]);n.generateMipmap(t)}(e,r,a,u,f,n,t,o,i)}};return o}},o=function(n){return{setAttribute1f:function(t,r){var e=n.getAttribLocation(n.program,t);n.vertexAttrib1f(e,r)},setAttribute2f:function(t,r,e){var i=n.getAttribLocation(n.program,t);n.vertexAttrib2f(i,r,e)},setAttribute3f:function(t,r,e,i){var o=n.getAttribLocation(n.program,t);n.vertexAttrib3f(o,r,e,i)},setAttribute4f:function(t,r,e,i,o){var a=n.getAttribLocation(n.program,t);n.vertexAttrib4f(a,r,e,i,o)},setAttribute1i:function(t,r){var e=n.getAttribLocation(n.program,t);n.vertexAttrib1i(e,r)},setAttribute2i:function(t,r,e){var i=n.getAttribLocation(n.program,t);n.vertexAttrib2i(i,r,e)},setAttribute3i:function(t,r,e,i){var o=n.getAttribLocation(n.program,t);n.vertexAttrib3i(o,r,e,i)},setAttribute4i:function(t,r,e,i,o){var a=n.getAttribLocation(n.program,t);n.vertexAttrib4i(a,r,e,i,o)},setUniform1f:function(t,r){var e=n.getUniformLocation(n.program,t);n.uniform1f(e,r)},setUniform2f:function(t,r,e){var i=n.getUniformLocation(n.program,t);n.uniform2f(i,r,e)},setUniform3f:function(t,r,e,i){var o=n.getUniformLocation(n.program,t);n.uniform3f(o,r,e,i)},setUniform4f:function(t,r,e,i,o){var a=n.getUniformLocation(n.program,t);n.uniform4f(a,r,e,i,o)},setUniform1i:function(t,r){var e=n.getUniformLocation(n.program,t);n.uniform1i(e,r)},setUniform2i:function(t,r,e){var i=n.getUniformLocation(n.program,t);n.uniform2i(i,r,e)},setUniform3i:function(t,r,e,i){var o=n.getUniformLocation(n.program,t);n.uniform3i(o,r,e,i)},setUniform4i:function(t,r,e,i,o){var a=n.getUniformLocation(n.program,t);n.uniform4i(a,r,e,i,o)},setUniformMatrix2fv:function(t,r){var e=n.getUniformLocation(n.program,t);n.uniformMatrix2fv(e,!1,r)},setUniformMatrix3fv:function(t,r){var e=n.getUniformLocation(n.program,t);n.uniformMatrix3fv(e,!1,r)},setUniformMatrix4fv:function(t,r){var e=n.getUniformLocation(n.program,t);n.uniformMatrix4fv(e,!1,r)}}}(e);for(var a in o)i[a]=o[a];return e.viewport(0,0,e.canvas.width,e.canvas.height),i}var e=function(n,t){for(var r=[],e=0;e<4;e++)for(var i=0;i<t.length/4;i++)r[4*i+e]=n[e]*t[4*i]+n[e+4]*t[4*i+1]+n[e+8]*t[4*i+2]+n[e+12]*t[4*i+3];return r};
/*!
     * ğŸ’¡ - åˆ—ä¸»åºå­˜å‚¨çš„4x4çŸ©é˜µ
     * https://github.com/hai2007/tool.js/blob/master/Matrix4.js
     *
     * author hai2007 < https://hai2007.gitee.io/sweethome >
     *
     * Copyright (c) 2020-present hai2007 èµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥ã€‚
     * Released under the MIT license
     */function i(n){var t=n||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r={move:function(n,i,o,a){return t=e(function(n,t,r,e){e=e||0;var i=Math.sqrt(t*t+r*r+e*e);return[1,0,0,0,0,1,0,0,0,0,1,0,t*n/i,r*n/i,e*n/i,1]}(n,i,o,a),t),r},rotate:function(n,i,o,a,u,f,c){var s=function(n,t,r,e,i,o){if("number"==typeof n&&"number"==typeof t){if("number"!=typeof r?(r=0,e=n,i=t,o=1):"number"==typeof e&&"number"==typeof i&&"number"==typeof o||(e=n,i=t,o=r,n=0,t=0,r=0),n==e&&t==i&&r==o)throw new Error("It's not a legitimate ray!");var a=Math.sqrt((e-n)*(e-n)+(i-t)*(i-t)),u=0!=a?(i-t)/a:1,f=0!=a?(e-n)/a:0,c=(e-n)*f+(i-t)*u,s=o-r,l=Math.sqrt(c*c+s*s),_=0!=l?s/l:1,m=0!=l?c/l:0;return[[u,_*f,f*m,0,-f,u*_,u*m,0,0,-m,_,0,t*f-n*u,r*m-n*f*_-t*u*_,-n*f*m-t*u*m-r*_,1],[u,-f,0,0,_*f,_*u,-m,0,f*m,u*m,_,0,n,t,r,1]]}throw new Error("a1 and b1 is required!")}(i,o,a,u,f,c);return t=e(e(e(s[1],function(n){var t=Math.sin(n),r=Math.cos(n);return[r,t,0,0,-t,r,0,0,0,0,1,0,0,0,0,1]}(n)),s[0]),t),r},scale:function(n,i,o,a,u,f){return t=e(function(n,t,r,e,i,o){return[n,0,0,0,0,t,0,0,0,0,r,0,(e=e||0)-e*n,(i=i||0)-i*t,(o=o||0)-o*r,1]}(n,i,o,a,u,f),t),r},multiply:function(n,i){return t=i?e(t,n):e(n,t),r},use:function(n,r,i,o){var a=e(t,[n,r,i=i||0,o=o||1]);return a[0]=+a[0].toFixed(7),a[1]=+a[1].toFixed(7),a[2]=+a[2].toFixed(7),a[3]=+a[3].toFixed(7),a},value:function(){return t}};return r}var o=Object.prototype.toString;var a=function(t){return"number"==typeof t||null!==t&&"object"===(void 0===t?"undefined":n(t))&&"[object Number]"===function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":o.call(n)}(t)},u=function(n){return Array.isArray(n)};var f={vs:"\n    attribute vec4 a_position;\n    attribute vec4 a_color;\n    attribute float a_size;\n    varying vec4 v_color;\n    void main(){\n        gl_Position=a_position;\n        gl_PointSize=a_size;\n        v_color=a_color;\n    }\n    ",fs:"\n    precision mediump float;\n    varying vec4 v_color;\n    void main(){\n        gl_FragColor=v_color;\n    }\n    "},c={vs:"\n    attribute vec4 a_position;\n    attribute vec4 a_color;\n    attribute float a_size;\n    varying vec4 v_color;\n    uniform mat4 u_matrix;\n    void main(){\n        gl_Position=u_matrix * a_position;\n        gl_PointSize=a_size;\n        v_color=a_color;\n    }\n    ",fs:"\n    precision mediump float;\n    varying vec4 v_color;\n    void main(){\n        gl_FragColor=v_color;\n    }\n    "};var s=function n(t,e){var o,s=function(n,t){for(var r in t)try{n[r]=t[r]}catch(n){throw new Error("Illegal property key : "+r)}return n}({depth:!1},e||{}),l=r(t),_=s["vertex-shader"],m=s["fragment-shader"];if(!_||!m){var d=(o=s.shader||"default",{type_default:f,type_camera:c}["type_"+o]);_=d.vs,m=d.fs}l.shader(_,m),(n.fn=n.prototype).Buffer=function(n,t){return function(t){return new function(){var r=this,e=n.buffer(t);this.write=function(n){return e.write(n),r},t||(this.use=function(n,t,i,o){return e.use(n,t,i,o),r})}}}(l),n.fn.Camera=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new function(){var t=this;a(n.size)?n.size=[n.size,n.size,n.size]:u(n.size)||(n.size=[1,1,1]);var r=i();r.multiply([1/n.size[0],0,0,0,0,1/n.size[1],0,0,0,0,1/n.size[2],0,0,0,0,1]),this.rotateEye=function(n,e,i,o,a,u,f){return r.rotate(-n,e,i,o,a,u,f),t},this.moveEye=function(n,e,i,o){return r.move(-n,e,i,o),t},this.rotateBody=function(n,e,i,o,a,u,f){return r.rotate(n,e,i,o,a,u,f),t},this.moveBody=function(n,e,i,o){return r.move(n,e,i,o),t},this.scaleBody=function(n,e,i,o,a,u){return r.scale(n,e,i,o,a,u),t},this.value=function(){return r.value()}}},n.fn.Painter=function(n,t){var r=n.painter();return t.depth&&r.openDeep(),function(){return new function(){!function(n,t){t.drawPoint=function(r,e){return n.points(r,e),t},t.drawLine=function(r,e){return n.lines(r,e),t},t.drawStripLine=function(r,e){return n.stripLines(r,e),t},t.drawLoopLine=function(r,e){return n.loopLines(r,e),t},t.drawTriangle=function(r,e){return n.triangles(r,e),t},t.drawStripTriangle=function(r,e){return n.stripTriangles(r,e),t},t.drawFanTriangle=function(r,e){return n.fanTriangles(r,e),t}}(r,this),function(n,t){t.elemPoint=function(r,e,i){return i=i||"byte",n.points(r,e,i),t},t.elemLine=function(r,e,i){return i=i||"byte",n.lines(r,e,i),t},t.elemStripLine=function(r,e,i){return i=i||"byte",n.stripLines(r,e,i),t},t.elemLoopLine=function(r,e,i){return i=i||"byte",n.loopLines(r,e,i),t},t.elemTriangle=function(r,e,i){return i=i||"byte",n.triangles(r,e,i),t},t.elemStripTriangle=function(r,e,i){return i=i||"byte",n.stripTriangles(r,e,i),t},t.elemFanTriangle=function(r,e,i){return i=i||"byte",n.fanTriangles(r,e,i),t}}(r,this)}}}(l,s),n.fn.Texture2D=function(n,t){return function(t){return new function(){var r=this,e=n.texture("2d",t);this.write=function(n){return e.useImage(n),r}}}}(l),n.fn.TextureCube=function(n,t){return function(t,r){return new function(){var e=this,i=n.texture("cube");this.write=function(n,o,a,u,f,c){return i.useCube([n,o,a,u,f,c],t,r),e}}}}(l),n.fn.setAttributeFloat=function(n,t,r,e,i){return l["setAttribute"+(arguments.length-1)+"f"](n,t,r,e,i),this},n.fn.setAttributeInt=function(n,t,r,e,i){return l["setAttribute"+(arguments.length-1)+"i"](n,t,r,e,i),this},n.fn.setUniformFloat=function(n,t,r,e,i){return l["setUniform"+(arguments.length-1)+"f"](n,t,r,e,i),this},n.fn.setUniformInt=function(n,t,r,e,i){return l["setUniform"+(arguments.length-1)+"i"](n,t,r,e,i),this},n.fn.setUniformMatrix=function(n,t){var r={4:2,9:3,16:4}[t.length];return l["setUniformMatrix"+r+"fv"](n,t),this}};if(s.core=r,"object"===("undefined"==typeof module?"undefined":n(module))&&"object"===n(module.exports))module.exports=s;else{var l=window.image3D;s.noConflict=function(){return window.image3D===s&&(window.image3D=l),s},window.image3D=s}}(),{}},window.__nefbl_pack__bundleSrc__[47]=function(){var n={};return window.__nefbl_pack__getBundle("48"),n.default=ThreeGeometry,n},window.__nefbl_pack__bundleSrc__[48]=function(){
/*!
 *  Three-Geometry - ä¸ºimage3D.jsè®¾è®¡å¼€å‘çš„ä¸‰ç»´å‡ ä½•åæ ‡è¿ç®—åº“
 * git+https://github.com/clunch-contrib/Three-Geometry.git
 *
 * author ä½ å¥½2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 1.1.2
 *
 * Copyright (c) 2021-present hai2007 èµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥ã€‚
 * Released under the MIT license
 *
 * Date:Mon Oct 25 2021 00:28:37 GMT+0800 (GMT+08:00)
 */
return function(){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(t)}var t=Object.prototype.toString;var r=function(r){return"number"==typeof r||null!==r&&"object"===n(r)&&"[object Number]"===function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":t.call(n)}(r)},e=function(n,t){var r=Math.ceil(2*Math.PI/Math.asin(n/t)*2);return isNaN(r)||r<12?12:r};function i(n,t,r,e,i){var o=Math.cos(r),a=Math.sin(r);return[(e-n)*o-(i-t)*a+n,(e-n)*a+(i-t)*o+t]}function o(n,t,r,e,o){for(var a=[n,t,r,n+e,t,r],u=2*Math.PI/o,f=0;f<o;f++){var c=i(n,r,u*(f+1),n+e,r);a.push(c[0],t,c[1])}return a}function a(n,t,r,e,o,a){for(var u=[n+e,t,r,n+e,t+o,r],f=2*Math.PI/a,c=0;c<a;c++){var s=i(n,r,f*(c+1),n+e,r);u.push(s[0],t,s[1],s[0],t+o,s[1])}return u}function u(n,t,r,e,o,a){for(var u,f=[n,t+e,r],c=2*Math.PI/o,s=1;s<.5*o;s++){u=i(n,t,c*s,n,t+e);var l=i(n,r,c*a,u[0],r);f.push(l[0],u[1],l[1]);var _=i(n,r,c*(a+1),u[0],r);f.push(_[0],u[1],_[1])}return f.push(n,t-e,r),f}var f=function(n){if(!r(n.precision)||n<=0)throw new Error("options.precision should be an integer greater than zero");var t={cylinder:function(r,i,o,a,u,f){var c=e(n.precision,u);return t.prism(r,i,o,a,u,f,c),t},prism:function(n,r,e,i,u,f,c){return n({points:o(r,e,i,u,c),length:c+2,methods:"FanTriangle"}),n({points:o(r,e+f,i,u,c),length:c+2,methods:"FanTriangle"}),n({points:a(r,e,i,u,f,c),length:2*c+2,methods:"StripTriangle"}),t},sphere:function(r,i,o,a,f){for(var c=e(n.precision,f),s=0;s<c;s++)r({points:u(i,o,a,f,c,s),length:c,methods:"StripTriangle"});return t}};return t};"object"===("undefined"==typeof module?"undefined":n(module))&&"object"===n(module.exports)?module.exports=f:window.ThreeGeometry=f}(),{}},window.__nefbl_pack__bundleSrc__[49]=function(){var n={};return n.default="\n canvas{\n\ndisplay: block;\n\nmargin: 100px auto;\n\nwidth: calc(100vh - 200px);\n\n}\n",n},window.__nefbl_pack__bundleSrc__[50]=function(){var n={};return n.default="\x3c!-- é¡¶ç‚¹ç€è‰²å™¨ --\x3e\r\n<script type='x-shader/x-vertex' id='vs'>\r\n    attribute vec4 a_position;\r\n    uniform mat4 u_matrix;\r\n    void main(){\r\n        gl_Position=u_matrix * a_position;\r\n    }\r\n<\/script>\r\n\r\n\x3c!-- ç‰‡æ®µç€è‰²å™¨ --\x3e\r\n<script type='x-shader/x-fragment' id='fs'>\r\n    precision mediump float;\r\n    uniform vec4 u_color;\r\n    void main(){\r\n        gl_FragColor=u_color;\r\n    }\r\n<\/script>\r\n\r\n<canvas width=\"500\" height=\"500\">éå¸¸æŠ±æ­‰ï¼Œæ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒcanvas!</canvas>\r\n",n};